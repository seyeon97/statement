<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>í¬ë ˆí…Œ ê±°ë˜ëª…ì„¸ì„œ</title>

<style>
:root{--main:#009c86;--border:#000;--font:Arial,"ë§‘ì€ ê³ ë”•",sans-serif;}
*{box-sizing:border-box;font-family:var(--font);}
body{margin:0;padding:20px;background:#f0f2f5;color:#333;line-height:1.5;}

/* ğŸ”‘ â‘  ì•„ì„ì›¹ ì½”ë“œ ìœ„ì ¯ ì™¸ê³½ì„ Â·ê·¸ë¦¼ì ì œê±° */
.iw_component,               /* ì—ë””í„°ì—ì„œ â€œì½”ë“œ ìœ„ì ¯â€ì´ ê°–ëŠ” í´ë˜ìŠ¤ */
.iw_component *{box-shadow:none!important;border:none!important;}

/* â‘¡ ì…ë ¥ í¼ ì¹´ë“œ */
#quote-form{
  max-width:640px;margin:40px auto;background:#fff;padding:32px;border-radius:12px;
}
#quote-form h2,#quote-form label{color:#000;}
#quote-form h2{font-size:28px;text-align:center;margin-bottom:24px;}
#quote-form label{display:block;margin-bottom:8px;font-weight:bold;}
#quote-form input,#quote-form select{
  width:100%;margin-bottom:16px;padding:12px;border:1px solid #ccc;border-radius:6px;
}
#quote-form button{
  width:100%;padding:14px;background:var(--main);color:#fff;font-weight:bold;border:none;
  border-radius:6px;font-size:16px;cursor:pointer;transition:background .3s;
}
#quote-form button:hover{background:#007a6b;}
#warning-message{display:none;color:#e00;font-size:14px;margin-bottom:16px;}
@keyframes blink{0%{background:#ffe6e6}50%{background:#fff}100%{background:#ffe6e6}}
input.invalid{border-color:#e00!important;animation:blink .4s ease-in-out 3}

/* â‘¢ ê±°ë˜ëª…ì„¸ì„œ ì¶œë ¥ */
#statement{
  display:none;max-width:720px;margin:40px auto;background:#fff;padding:24px;
  border:none!important;box-shadow:none!important;color:#000!important;
}
#statement table{width:100%;border-collapse:collapse;font-size:14px;color:#000!important;}
#statement th,#statement td{border:1px solid var(--border);padding:6px 4px;text-align:center;color:#000!important;}
#statement .no-cell{width:60px;font-weight:bold;font-size:16px;vertical-align:top;}
#statement .title-cell{font-size:24px;font-weight:bold;border-left:none;border-right:none;}
#statement .supplier-table td{padding:4px 6px;text-align:left;font-size:12px;color:#000!important;}
#statement .money-row td{font-weight:bold;background:#f7f7f7;color:#000!important;}
#statement .items-table th{background:#f7f7f7;color:#000!important;}
.btn-wrap{margin-top:16px;}
.btn-wrap button{width:100%;padding:12px;background:var(--main);color:#fff;font-weight:bold;border:none;
  border-radius:6px;font-size:16px;cursor:pointer;transition:background .3s;}
.btn-wrap button:hover{background:#007a6b;}

/* â‘£ ì¸ì‡„ ì „ìš© */
@media print{
  html,body{margin:0;padding:0;background:#fff!important;print-color-adjust:exact;}
  body>*:not(#statement){display:none!important;}
  #statement{display:block!important;position:absolute;top:0;left:0;width:100%;margin:0;padding:0;}
  .btn-wrap{display:none!important;}
  @page{size:A4 portrait;margin:10mm;}
}
</style>
</head>
<body>

<form id="quote-form">
  <h2>í¬ë ˆí…Œ ê±°ë˜ëª…ì„¸ì„œ</h2>

  <label>íšŒì‚¬ëª…
    <input type="text" name="company" required>
  </label>

  <label>í´ë˜ìŠ¤ ì¢…ë¥˜
    <select name="classKind" required>
      <option>í•¸ë“œë“œë¦½ í´ë˜ìŠ¤</option>
      <option>ë“œë¦½ë°± í´ë˜ìŠ¤</option>
    </select>
  </label>

  <label>í´ë˜ìŠ¤ ì¸ì›
    <select name="type" required>
      <option>15ì¸ ì´í•˜</option>
      <option>16~40ì¸</option>
      <option>41~100ì¸</option>
    </select>
  </label>

  <label>ì¸ì› ìˆ˜
    <input type="number" name="quantity" min="1" required>
  </label>

  <label>ê²°ì œ ë°©ì‹
    <select name="noteType" required>
      <option value="ì‹ ìš©ì¹´ë“œ ê²°ì œê±´">ì‹ ìš©ì¹´ë“œ ê²°ì œê±´</option>
      <option value="ì „ìì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰">ì „ìì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰</option>
    </select>
  </label>

  <p id="warning-message">âš  í´ë˜ìŠ¤ ìœ í˜•ì— ë§ëŠ” ì¸ì› ìˆ˜ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>

  <button type="submit">ê±°ë˜ëª…ì„¸ì„œ ë³´ê¸°</button>
</form>

<div id="statement"></div>

<script>
document.getElementById('quote-form').addEventListener('submit',function(e){
  e.preventDefault();
  const f=e.target;
  const company=f.company.value.trim();
  const kind=f.classKind.value;
  const type=f.type.value;
  const qty=parseInt(f.quantity.value,10);
  const note=f.noteType.value;
  const warn=document.getElementById('warning-message');

  let unit=0,min=1,max=Infinity;
  if(type==='15ì¸ ì´í•˜'){unit=50000;max=15;}
  else if(type==='16~40ì¸'){unit=40000;min=16;max=40;}
  else{unit=30000;min=41;max=100;}

  if(qty<min||qty>max){f.quantity.classList.add('invalid');warn.style.display='block';return;}
  f.quantity.classList.remove('invalid');warn.style.display='none';

  const total=unit*qty;
  const d=new Date();
  const dateStr=`${d.getFullYear()}ë…„ ${d.getMonth()+1}ì›” ${d.getDate()}ì¼`;

  document.getElementById('statement').innerHTML=`
    <table><tr><td class="no-cell" rowspan="2">NO.<br>1</td>
      <td class="title-cell" colspan="5">ê±° ë˜ ëª… ì„¸ ì„œ</td></tr></table>
    <table style="margin-top:8px"><tr>
      <td style="width:50%;border:none;text-align:left;padding:4px 8px;border-bottom:1px solid var(--border);">
        ${dateStr}<br><br><strong>${company}</strong> ê·€í•˜
      </td>
      <td style="width:50%;border:none;padding:0;vertical-align:top;">
        <table class="supplier-table">
          <tr><td>ë“±ë¡ë²ˆí˜¸</td><td>417-14-07644</td><td rowspan="3" style="text-align:center;width:60px">
            <img src="https://i.imgur.com/4i4X9qx.png" style="width:46px;height:46px"></td></tr>
          <tr><td>ìƒí˜¸(ë²•ì¸ëª…)</td><td>í¬ë ˆí…Œ (ëŒ€í‘œ: ì´ì„¸ì—°)</td></tr>
          <tr><td>ì‚¬ì—…ì¥ì£¼ì†Œ</td><td>ì„œìš¸ì‹œ ê°•ë™êµ¬ ì„±ì•ˆë¡œ 39, 103í˜¸</td></tr>
          <tr><td>ì—…íƒœ</td><td>ì„œë¹„ìŠ¤ì—…</td><td rowspan="2"></td></tr>
          <tr><td>ì¢…ëª©</td><td>ì»¤í”¼í´ë˜ìŠ¤</td></tr>
          <tr><td>ì „í™”ë²ˆí˜¸</td><td>010-3028-2705</td><td></td></tr>
        </table>
      </td>
    </tr></table>
    <p style="margin:16px 0 4px">ì•„ë˜ì™€ ê°™ì´ ê³„ì‚°í•©ë‹ˆë‹¤.</p>
    <table class="money-row"><tr><td>(ê³µê¸‰ê°€ì•¡+ì„¸ì•¡) ê¸ˆ</td><td>${total.toLocaleString()} ì›</td></tr></table>
    <table class="items-table" style="margin-top:8px">
      <thead><tr><th>í’ˆëª©ëª…</th><th>ê·œê²©</th><th>ìˆ˜ëŸ‰</th><th>ë‹¨ê°€</th>
        <th>ê³µê¸‰ê°€ì•¡(VAT í¬í•¨)</th><th>ë¹„ê³ </th></tr></thead>
      <tbody><tr><td style="text-align:left;">${kind}</td><td></td><td>${qty}</td>
        <td>${unit.toLocaleString()}</td><td>${total.toLocaleString()}</td><td>${note}</td></tr>
        ${Array(12).fill('<tr><td>&nbsp;</td><td></td><td></td><td></td><td></td><td></td></tr>').join('')}
      </tbody>
      <tfoot><tr class="money-row"><td colspan="4">ê³„</td><td>${total.toLocaleString()}</td><td></td></tr></tfoot>
    </table>
    <div class="btn-wrap"><button onclick="printOrPdf()">PDF ì €ì¥ ë˜ëŠ” ì¸ì‡„í•˜ê¸°</button></div>`;
  document.getElementById('statement').style.display='block';
});
function printOrPdf(){
  alert('ì¸ì‡„ ì°½ì´ ì—´ë¦¬ë©´ â€œPDFë¡œ ì €ì¥â€ì„ ì„ íƒí•˜ì„¸ìš”.\n(í¬ë¡¬ â–¸ ì¶”ê°€ì„¤ì • â–¸ ë°°ê²½ ê·¸ë˜í”½ ì²´í¬)');
  setTimeout(()=>window.print(),100);
}
</script>
</body>
</html>
